# قوانین استفاده از Git  
**نسخه ۲.۰**

---

## ۱. قوانین مربوط به Branchها

- از Push مستقیم به شاخه‌های اصلی مانند `main` یا `develop` خودداری کنید.
- برای هر تسک، ویژگی جدید یا رفع اشکال، یک شاخه جدید ایجاد کنید.
- شاخه جدید باید معمولاً از `develop` منشعب شود، مگر در موارد خاص مانند Hotfix یا طبق نظر سرپرست فنی.

### ساختار نام‌گذاری Branch‌ها

نام شاخه باید با شناسه تسک شروع شود و الگوی مشخصی داشته باشد:

- فیچر جدید: `feature/TASK-ID-feature-name`
- رفع باگ: `bugfix/TASK-ID-description`
- هات‌فیکس: `hotfix/TASK-ID-critical-issue`
- تست: `test/TASK-ID-test-description`

**مثال‌ها:**

- `feature/PROJ-101-user-login`
- `bugfix/PROJ-102-validation-error`

> ⚠️ **هات‌فیکس‌ها** فقط برای مشکلات حیاتی و نیازمند اقدام فوری استفاده شوند، مثل قطع سیستم یا مسائل امنیتی.

---

## ۲. قوانین مربوط به پیام‌های Commit

پیام‌های Commit باید ساختار زیر را رعایت کنند:

```
TASK-ID: <type>(<scope>): <short message>
```

### نمونه‌ها:

- `PROJ-101: feat(auth): add SMS login`
- `PROJ-102: fix(payment): correct total calculation`
- `PROJ-103: docs(api): update endpoint descriptions`

### انواع تغییرات مجاز:

- `feat`: افزودن قابلیت جدید
- `fix`: رفع باگ
- `refactor`: بهبود ساختار کد بدون تغییر در عملکرد
- `docs`: به‌روزرسانی مستندات
- `style`: تغییرات ظاهری یا ساختاری بی‌تأثیر بر عملکرد
- `test`: افزودن یا تغییر تست‌ها
- `chore`: کارهای نگهداری و غیرعملکردی
- `perf`: بهینه‌سازی عملکرد کد

> 💡 **نکات مهم:**
> - پیام‌ها باید کوتاه، دقیق، و به زبان انگلیسی و با فعل زمان حال نوشته شوند.
> - هر Commit باید تنها شامل یک تغییر منطقی باشد (Atomic Commit).

---

## ۳. قوانین مربوط به Merge Request (MR)

- پس از اتمام تسک، یک Merge Request برای شاخه مربوطه به `develop` باز کنید (در صورت Hotfix به `main`).
- عنوان MR باید شامل شماره تسک و توضیح کوتاهی از تغییرات باشد.  
  _مثال:_ `PROJ-101: Merge feature/user-login into develop`
- حل کانفلیکت‌ها قبل از ارسال MR بر عهده توسعه‌دهنده است.

### بازبینی کد (Code Review)

- تعداد بازبینی‌های لازم بسته به تیم مشخص می‌شود (مثلاً ۲ یا ۳ نفر).
- بازبینی نهایی توسط Tech Lead انجام می‌شود.
- تمامی بازخوردهای فنی باید به‌صورت کامنت ثبت شوند.

### حذف شاخه پس از Merge

- گزینه **"Delete source branch after merge"** باید فعال باشد، مگر در موارد ضروری.
- در صورتی که شاخه باقی بماند، باید حداکثر ظرف دو هفته تعیین تکلیف و حذف شود.

---

## ۴. محدودیت شاخه‌های باز برای هر توسعه‌دهنده

- هر توسعه‌دهنده باید حداکثر **دو شاخه فعال** به‌صورت همزمان داشته باشد.
- شاخه‌های قدیمی یا بدون استفاده باید به‌صورت منظم پاک‌سازی شوند تا نظم مخزن حفظ شود.

---

_این قوانین بسته به نیاز پروژه یا تیم قابل بازبینی و به‌روزرسانی هستند._